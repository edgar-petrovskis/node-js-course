scalar DateTime

enum OrderStatus {
  NEW
  PAID
  CANCELED
}

type Product {
  id: ID!
  title: String!
  description: String
  priceCents: Int!
  currency: String!
  stock: Int!
  isActive: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type OrderItem {
  id: ID!
  orderId: ID!
  productId: ID!
  quantity: Int!
  priceAtPurchaseCents: Int!
  currency: String!
  createdAt: DateTime!
  product: Product!
}

type Order {
  id: ID!
  userId: ID!
  status: OrderStatus!
  totalAmountCents: Int!
  currency: String!
  idempotencyKey: ID!
  items: [OrderItem!]!
  createdAt: DateTime!
  updatedAt: DateTime!
}

input OrdersFilterInput {
  status: OrderStatus
  dateFrom: DateTime
  dateTo: DateTime
}

input OrdersPaginationInput {
  first: Int
  after: String
  last: Int
  before: String
}

type PageInfo {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  startCursor: String
  endCursor: String
}

type OrdersConnection {
  nodes: [Order!]!
  totalCount: Int!
  pageInfo: PageInfo!
}

type Query {
  hello: String!
  orders(
    filter: OrdersFilterInput
    pagination: OrdersPaginationInput
  ): OrdersConnection!
}
